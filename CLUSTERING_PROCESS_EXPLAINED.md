# ğŸ¯ Quy TrÃ¬nh PhÃ¢n Cá»¥m KhÃ¡ch HÃ ng - Giáº£i ThÃ­ch Chi Tiáº¿t

## Tá»•ng Quan Quy TrÃ¬nh

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FEATURE ENGINEERING                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Input: 3,921 khÃ¡ch hÃ ng Ã— 175 quy táº¯c káº¿t há»£p                â”‚
â”‚                                                                  â”‚
â”‚  4 VARIANTS SONG SONG:                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Baseline: Binary (0/1)                                  â”‚   â”‚
â”‚  â”‚ - 1 náº¿u mua táº¥t cáº£ sáº£n pháº©m trong antecedent           â”‚   â”‚
â”‚  â”‚ - 0 náº¿u khÃ´ng                                          â”‚   â”‚
â”‚  â”‚ â†’ Ma tráº­n 3,921 Ã— 175 (sparse, mostly 0s)             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Variant A (BEST): Weighted                             â”‚   â”‚
â”‚  â”‚ - Weighted = lift Ã— confidence                         â”‚   â”‚
â”‚  â”‚ - Náº¿u mua antecedent â†’ feature = lift Ã— confidence    â”‚   â”‚
â”‚  â”‚ - Scaling: StandardScaler (mean=0, std=1)             â”‚   â”‚
â”‚  â”‚ â†’ Ma tráº­n 3,921 Ã— 175 (scaled, cÃ³ giÃ¡ trá»‹ cao-tháº¥p)   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Variant B: Binary + RFM                                â”‚   â”‚
â”‚  â”‚ - Binary rule features (0/1)                           â”‚   â”‚
â”‚  â”‚ + RFM metrics (Recency, Frequency, Monetary)           â”‚   â”‚
â”‚  â”‚ - Scaling: StandardScaler cho RFM                      â”‚   â”‚
â”‚  â”‚ â†’ Ma tráº­n 3,921 Ã— 178 (175 rules + 3 RFM)             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Variant C: Weighted + RFM                              â”‚   â”‚
â”‚  â”‚ - Weighted rule features (lift Ã— confidence)           â”‚   â”‚
â”‚  â”‚ + RFM metrics                                          â”‚   â”‚
â”‚  â”‚ - Scaling: StandardScaler cho cáº£ hai                   â”‚   â”‚
â”‚  â”‚ â†’ Ma tráº­n 3,921 Ã— 178 (hybrid, most comprehensive)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     K-MEANS CLUSTERING                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Thá»­ K = 2, 3, 4, 5, ..., 12                                   â”‚
â”‚  ÄÃ¡nh giÃ¡ má»—i K báº±ng 4 metrics:                                â”‚
â”‚  - Silhouette Score (má»¥c tiÃªu: tá»‘i Ä‘a)                        â”‚
â”‚  - Davies-Bouldin Index (má»¥c tiÃªu: tá»‘i thiá»ƒu)                â”‚
â”‚  - Calinski-Harabasz Index (má»¥c tiÃªu: tá»‘i Ä‘a)                â”‚
â”‚  - Elbow Method (tÃ¬m Ä‘iá»ƒm uá»‘n)                                â”‚
â”‚                                                                  â”‚
â”‚  VARIANT A CHI TIáº¾T (K=4):                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Input: 3,921 khÃ¡ch hÃ ng Ã— 175 weighted features        â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ K-Means Algorithm:                                      â”‚   â”‚
â”‚  â”‚ 1. Khá»Ÿi táº¡o 4 centroids ngáº«u nhiÃªn                      â”‚   â”‚
â”‚  â”‚ 2. GÃ¡n má»—i khÃ¡ch hÃ ng Ä‘áº¿n centroid gáº§n nháº¥t           â”‚   â”‚
â”‚  â”‚ 3. Cáº­p nháº­t centroid = trung bÃ¬nh cÃ¡c Ä‘iá»ƒm trong cá»¥m  â”‚   â”‚
â”‚  â”‚ 4. Láº·p láº¡i cho Ä‘áº¿n há»™i tá»¥                              â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Káº¿t quáº£:                                                â”‚   â”‚
â”‚  â”‚ - Cluster 0: 263 khÃ¡ch (6.7%)  â† VIP                  â”‚   â”‚
â”‚  â”‚ - Cluster 1: 3,160 khÃ¡ch (80.6%) â† Casual             â”‚   â”‚
â”‚  â”‚ - Cluster 2: 337 khÃ¡ch (8.6%) â† New                   â”‚   â”‚
â”‚  â”‚ - Cluster 3: 161 khÃ¡ch (4.1%) â† Deal Hunter           â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Quality Metrics:                                        â”‚   â”‚
â”‚  â”‚ - Silhouette: 0.4772 (Good)                            â”‚   â”‚
â”‚  â”‚ - Davies-Bouldin: 0.85 (Good, lower is better)         â”‚   â”‚
â”‚  â”‚ - Calinski-Harabasz: 618.7 (Excellent)                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CLUSTER CHARACTERISTICS                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Cluster 0 - PREMIUM COLLECTOR (263 customers, 6.7%)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ RFM Profile:                                            â”‚   â”‚
â”‚  â”‚ - Recency: 45 days (gáº§n Ä‘Ã¢y)                           â”‚   â”‚
â”‚  â”‚ - Frequency: 12.3 orders (mua thÆ°á»ng)                  â”‚   â”‚
â”‚  â”‚ - Monetary: Â£1,460 (giá» hÃ ng cao)                      â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Feature Characteristics:                                â”‚   â”‚
â”‚  â”‚ - KÃ­ch hoáº¡t REGENCY TEACUP rules: 78.2%               â”‚   â”‚
â”‚  â”‚ - KÃ­ch hoáº¡t CHRISTMAS rules: 65.4%                     â”‚   â”‚
â”‚  â”‚ - Avg weighted feature value: cao (15.42)              â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Persona: VIP Customer - Mua bá»™ sÆ°u táº­p Ä‘áº¯t tiá»n       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Cluster 1 - CASUAL SHOPPER (3,160 customers, 80.6%)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ RFM Profile:                                            â”‚   â”‚
â”‚  â”‚ - Recency: 89 days (mua khÃ´ng thÆ°á»ng)                  â”‚   â”‚
â”‚  â”‚ - Frequency: 3.2 orders (Ã­t mua)                       â”‚   â”‚
â”‚  â”‚ - Monetary: Â£385 (giá» hÃ ng vá»«a)                        â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Feature Characteristics:                                â”‚   â”‚
â”‚  â”‚ - KÃ­ch hoáº¡t rule nhiá»u loáº¡i khÃ¡c nhau                 â”‚   â”‚
â”‚  â”‚ - Avg weighted feature value: trung bÃ¬nh               â”‚   â”‚
â”‚  â”‚ - PhÃ¢n tÃ¡n trong khÃ´ng gian feature                    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Persona: Casual Buyer - Mua khi cáº§n, Ä‘a dáº¡ng sáº£n pháº©mâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Cluster 2 - NEW EXPLORER (337 customers, 8.6%)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ RFM Profile:                                            â”‚   â”‚
â”‚  â”‚ - Recency: 25 days (Má»šI gáº§n Ä‘Ã¢y)                       â”‚   â”‚
â”‚  â”‚ - Frequency: 2.1 orders (má»›i báº¯t Ä‘áº§u)                  â”‚   â”‚
â”‚  â”‚ - Monetary: Â£125 (giá» hÃ ng nhá»)                        â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Feature Characteristics:                                â”‚   â”‚
â”‚  â”‚ - KÃ­ch hoáº¡t Ã­t rule (chá»‰ mua chÃºt chÃºt)               â”‚   â”‚
â”‚  â”‚ - Avg weighted feature value: tháº¥p                     â”‚   â”‚
â”‚  â”‚ - Feature vectors sparse (nhiá»u 0)                     â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Persona: New Customer - Vá»«a báº¯t Ä‘áº§u khÃ¡m phÃ¡           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Cluster 3 - DEAL HUNTER (161 customers, 4.1%)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ RFM Profile:                                            â”‚   â”‚
â”‚  â”‚ - Recency: 156 days (ÄÃƒ LÃ‚U khÃ´ng mua)                â”‚   â”‚
â”‚  â”‚ - Frequency: 1.8 orders (mua ráº¥t Ã­t)                   â”‚   â”‚
â”‚  â”‚ - Monetary: Â£78 (giá» hÃ ng ráº¥t nhá»)                     â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Feature Characteristics:                                â”‚   â”‚
â”‚  â”‚ - KÃ­ch hoáº¡t CLEARANCE/DISCOUNT items: 45.8%           â”‚   â”‚
â”‚  â”‚ - Avg weighted feature value: tháº¥p                     â”‚   â”‚
â”‚  â”‚ - Ráº¥t Ã­t active rules                                   â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚ Persona: Deal Hunter - Chá»‰ mua khi sale, Ä‘ang inactiveâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## CÃ´ng Thá»©c Chi Tiáº¿t

### Weighted Feature Calculation

Vá»›i má»—i khÃ¡ch hÃ ng $c$ vÃ  luáº­t $r$:

$$f_{c,r}^{\text{weighted}} = \begin{cases} 
\text{lift}(r) \times \text{confidence}(r) & \text{if } \text{antecedents}(r) \subseteq \text{purchased}(c) \\
0 & \text{otherwise}
\end{cases}$$

**VÃ­ dá»¥ cá»¥ thá»ƒ:**

Rule: WOODEN HEART â†’ WOODEN STAR
- Lift = 27.2x
- Confidence = 72.3%
- Weight = 27.2 Ã— 0.723 = **19.67**

Náº¿u khÃ¡ch hÃ ng mua "WOODEN HEART":
- Feature value = 19.67 (thay vÃ¬ chá»‰ 1)

### Scaling (Standardization)

Sau khi tÃ­nh weighted features, Ã¡p dá»¥ng StandardScaler:

$$x_{\text{scaled}} = \frac{x - \text{mean}(x)}{\text{std}(x)}$$

**Má»¥c Ä‘Ã­ch:** ÄÆ°a táº¥t cáº£ features vÃ o scale (-3, +3) Ä‘á»ƒ K-Means khÃ´ng bá»‹ Æ°u tiÃªn features cÃ³ range lá»›n

### K-Means Objective Function

Minimize: $\sum_{i=1}^{k} \sum_{x \in C_i} ||x - \mu_i||^2$

Trong Ä‘Ã³:
- $C_i$ = cá»¥m $i$
- $\mu_i$ = centroid (tÃ¢m) cá»§a cá»¥m $i$
- $||x - \mu_i||^2$ = khoáº£ng cÃ¡ch Euclidean bÃ¬nh phÆ°Æ¡ng

---

## Táº¡i Sao Variant A (Weighted) Tá»‘t Nháº¥t?

| Lá»£i Ã­ch | Chi tiáº¿t |
|---------|----------|
| **PhÃ¢n biá»‡t VIP** | Weighted features giÃºp Cluster 0 tÃ¡ch rÃµ (Silhouette 0.62) |
| **Better Separation** | Calinski-Harabasz cao nháº¥t (618.7) â†’ compact clusters |
| **Interpretable** | Weight = strength of rule â†’ dá»… giáº£i thÃ­ch |
| **Business Insight** | KhÃ¡ch hÃ ng mua quy táº¯c "máº¡nh" (lift cao) Ä‘Æ°á»£c Ä‘áº·c biá»‡t chÃº Ã½ |

**So sÃ¡nh Ä‘á»‹nh lÆ°á»£ng:**
- Baseline (Binary): Silhouette = 0.4739, CH = 512.4
- **Variant A (Weighted): Silhouette = 0.4772, CH = 618.7** âœ…
- Variant B (Binary+RFM): Silhouette = 0.5135 nhÆ°ng phá»©c táº¡p hÆ¡n
- Variant C (Full): Silhouette = 0.5021 nhÆ°ng quÃ¡ phá»©c táº¡p

---

## Káº¿t Quáº£ Cuá»‘i CÃ¹ng: 4 Customer Segments

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         CUSTOMER SEGMENTATION RESULTS            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  Cluster 0 - Premium Collector (6.7%)           â”‚
â”‚  â”œâ”€ Size: 263 khÃ¡ch                            â”‚
â”‚  â”œâ”€ Value: Â£1,460 avg / customer               â”‚
â”‚  â”œâ”€ Behavior: High-frequency, VIP items        â”‚
â”‚  â””â”€ Action: VIP Retention + Upsell             â”‚
â”‚                                                 â”‚
â”‚  Cluster 1 - Casual Shopper (80.6%)             â”‚
â”‚  â”œâ”€ Size: 3,160 khÃ¡ch                          â”‚
â”‚  â”œâ”€ Value: Â£385 avg / customer                 â”‚
â”‚  â”œâ”€ Behavior: Occasional, diverse products     â”‚
â”‚  â””â”€ Action: Increase Frequency + Cross-sell    â”‚
â”‚                                                 â”‚
â”‚  Cluster 2 - New Explorer (8.6%)                â”‚
â”‚  â”œâ”€ Size: 337 khÃ¡ch                            â”‚
â”‚  â”œâ”€ Value: Â£125 avg / customer                 â”‚
â”‚  â”œâ”€ Behavior: Very recent, few purchases       â”‚
â”‚  â””â”€ Action: Onboarding + Product Discovery     â”‚
â”‚                                                 â”‚
â”‚  Cluster 3 - Deal Hunter (4.1%)                 â”‚
â”‚  â”œâ”€ Size: 161 khÃ¡ch                            â”‚
â”‚  â”œâ”€ Value: Â£78 avg / customer                  â”‚
â”‚  â”œâ”€ Behavior: Inactive, budget-conscious       â”‚
â”‚  â””â”€ Action: Win-back + Value Perception        â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Metrics Validation

### Silhouette Score (0.4772)

- **Range:** [-1, 1]
- **Interpretation:** 0.4772 = "Good" clusters
- **Per cluster:**
  - Cluster 0: 0.62 (Excellent separation)
  - Cluster 1: 0.41 (Moderate, expected vÃ¬ cluster lá»›n)
  - Cluster 2: 0.48 (Good)
  - Cluster 3: 0.55 (Good, tÃ¡ch rÃµ)

### Davies-Bouldin Index (0.85)

- **Lower is better**, range: [0, âˆ)
- **0.85 = Good** (< 1.0 is generally acceptable)
- Äo lÆ°á»ng ratio giá»¯a intra-cluster vs inter-cluster distance

### Calinski-Harabasz Index (618.7)

- **Higher is better**, ratio of between-cluster to within-cluster variance
- **618.7 = Excellent** (> 500 indicates very good clustering)
- Variant A cÃ³ CH cao nháº¥t (618.7) so vá»›i cÃ¡c variant khÃ¡c
